!function(){"use strict";function t(t,e){return t.type===e}var e={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:4,t:2,V:1,v:1,Z:0,z:0},s=function(){function s(t){this.COMMAND=0,this.NUMBER=1,this.EOD=2,this.segments=[],this.parseData(t),this.processPoints()}return s.prototype.tokenize=function(t){for(var e=new Array;""!==t;)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:this.COMMAND,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return console.error("Unrecognized segment command: "+t),[];e[e.length]={type:this.NUMBER,text:""+parseFloat(RegExp.$1)},t=t.substr(RegExp.$1.length)}return e[e.length]={type:this.EOD,text:""},e},s.prototype.parseData=function(s){var i=this.tokenize(s),a=0,n=i[a],h="BOD";for(this.segments=new Array;!t(n,this.EOD);){var r=void 0,o=new Array;if("BOD"===h){if("M"!==n.text&&"m"!==n.text)return void this.parseData("M0,0"+s);a++,r=e[n.text],h=n.text}else t(n,this.NUMBER)?r=e[h]:(a++,r=e[n.text],h=n.text);if(a+r<i.length){for(var p=a;p<a+r;p++){var c=i[p];if(!t(c,this.NUMBER))return void console.error("Parameter type is not a number: "+h+","+c.text);o[o.length]=+c.text}if("number"!=typeof e[h])return void console.error("Unsupported segment type: "+h);var u={key:h,data:o};this.segments.push(u),n=i[a+=r],"M"===h&&(h="L"),"m"===h&&(h="l")}else console.error("Path data ended before all parameters were found")}},Object.defineProperty(s.prototype,"closed",{get:function(){if(void 0===this._closed){this._closed=!1;for(var t=0,e=this.segments;t<e.length;t++){"z"===e[t].key.toLowerCase()&&(this._closed=!0)}}return this._closed},enumerable:!0,configurable:!0}),s.prototype.processPoints=function(){for(var t=null,e=[0,0],s=0;s<this.segments.length;s++){var i=this.segments[s];switch(i.key){case"M":case"L":case"T":i.point=[i.data[0],i.data[1]];break;case"m":case"l":case"t":i.point=[i.data[0]+e[0],i.data[1]+e[1]];break;case"H":i.point=[i.data[0],e[1]];break;case"h":i.point=[i.data[0]+e[0],e[1]];break;case"V":i.point=[e[0],i.data[0]];break;case"v":i.point=[e[0],i.data[0]+e[1]];break;case"z":case"Z":t&&(i.point=[t[0],t[1]]);break;case"C":i.point=[i.data[4],i.data[5]];break;case"c":i.point=[i.data[4]+e[0],i.data[5]+e[1]];break;case"S":i.point=[i.data[2],i.data[3]];break;case"s":i.point=[i.data[2]+e[0],i.data[3]+e[1]];break;case"Q":i.point=[i.data[2],i.data[3]];break;case"q":i.point=[i.data[2]+e[0],i.data[3]+e[1]];break;case"A":i.point=[i.data[5],i.data[6]];break;case"a":i.point=[i.data[5]+e[0],i.data[6]+e[1]]}"m"!==i.key&&"M"!==i.key||(t=null),i.point&&(e=i.point,t||(t=i.point)),"z"!==i.key&&"Z"!==i.key||(t=null)}},s}(),i=function(){function t(t){this._position=[0,0],this._first=null,this.bezierReflectionPoint=null,this.quadReflectionPoint=null,this.parsed=new s(t)}return Object.defineProperty(t.prototype,"segments",{get:function(){return this.parsed.segments},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closed",{get:function(){return this.parsed.closed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linearPoints",{get:function(){if(!this._linearPoints){for(var t=[],e=[],s=0,i=this.parsed.segments;s<i.length;s++){var a=i[s],n=a.key.toLowerCase();("m"!==n&&"z"!==n||(e.length&&(t.push(e),e=[]),"z"!==n))&&(a.point&&e.push(a.point))}e.length&&(t.push(e),e=[]),this._linearPoints=t}return this._linearPoints},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._first},set:function(t){this._first=t},enumerable:!0,configurable:!0}),t.prototype.setPosition=function(t,e){this._position=[t,e],this._first||(this._first=[t,e])},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._position[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._position[1]},enumerable:!0,configurable:!0}),t}(),a=function(){function t(t,e,s,i,a,n){if(this._segIndex=0,this._numSegs=0,this._rx=0,this._ry=0,this._sinPhi=0,this._cosPhi=0,this._C=[0,0],this._theta=0,this._delta=0,this._T=0,this._from=t,t[0]!==e[0]||t[1]!==e[1]){var h=Math.PI/180;this._rx=Math.abs(s[0]),this._ry=Math.abs(s[1]),this._sinPhi=Math.sin(i*h),this._cosPhi=Math.cos(i*h);var r=this._cosPhi*(t[0]-e[0])/2+this._sinPhi*(t[1]-e[1])/2,o=-this._sinPhi*(t[0]-e[0])/2+this._cosPhi*(t[1]-e[1])/2,p=0,c=this._rx*this._rx*this._ry*this._ry-this._rx*this._rx*o*o-this._ry*this._ry*r*r;if(c<0){var u=Math.sqrt(1-c/(this._rx*this._rx*this._ry*this._ry));this._rx=this._rx*u,this._ry=this._ry*u,p=0}else p=(a===n?-1:1)*Math.sqrt(c/(this._rx*this._rx*o*o+this._ry*this._ry*r*r));var l=p*this._rx*o/this._ry,f=-p*this._ry*r/this._rx;this._C=[0,0],this._C[0]=this._cosPhi*l-this._sinPhi*f+(t[0]+e[0])/2,this._C[1]=this._sinPhi*l+this._cosPhi*f+(t[1]+e[1])/2,this._theta=this.calculateVectorAngle(1,0,(r-l)/this._rx,(o-f)/this._ry);var y=this.calculateVectorAngle((r-l)/this._rx,(o-f)/this._ry,(-r-l)/this._rx,(-o-f)/this._ry);!n&&y>0?y-=2*Math.PI:n&&y<0&&(y+=2*Math.PI),this._numSegs=Math.ceil(Math.abs(y/(Math.PI/2))),this._delta=y/this._numSegs,this._T=8/3*Math.sin(this._delta/4)*Math.sin(this._delta/4)/Math.sin(this._delta/2)}}return t.prototype.getNextSegment=function(){if(this._segIndex===this._numSegs)return null;var t=Math.cos(this._theta),e=Math.sin(this._theta),s=this._theta+this._delta,i=Math.cos(s),a=Math.sin(s),n=[this._cosPhi*this._rx*i-this._sinPhi*this._ry*a+this._C[0],this._sinPhi*this._rx*i+this._cosPhi*this._ry*a+this._C[1]],h=[this._from[0]+this._T*(-this._cosPhi*this._rx*e-this._sinPhi*this._ry*t),this._from[1]+this._T*(-this._sinPhi*this._rx*e+this._cosPhi*this._ry*t)],r=[n[0]+this._T*(this._cosPhi*this._rx*a+this._sinPhi*this._ry*i),n[1]+this._T*(this._sinPhi*this._rx*a-this._cosPhi*this._ry*i)];return this._theta=s,this._from=[n[0],n[1]],this._segIndex++,{cp1:h,cp2:r,to:n}},t.prototype.calculateVectorAngle=function(t,e,s,i){var a=Math.atan2(e,t),n=Math.atan2(i,s);return n>=a?n-a:2*Math.PI-(a-n)},t}(),n=function(){function t(t,e){this.sets=t,this.closed=e}return t.prototype.fit=function(t){for(var e=[],s=0,i=this.sets;s<i.length;s++){var a=(p=i[s]).length,n=Math.floor(t*a);if(n<5){if(a<=5)continue;n=5}e.push(this.reduce(p,n))}for(var h="",r=0,o=e;r<o.length;r++){for(var p=o[r],c=0;c<p.length;c++){var u=p[c];h+=0===c?"M"+u[0]+","+u[1]:"L"+u[0]+","+u[1]}this.closed&&(h+="z ")}return h},t.prototype.distance=function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))},t.prototype.reduce=function(t,e){if(t.length<=e)return t;for(var s=t.slice(0);s.length>e;){for(var i=[],a=-1,n=-1,h=1;h<s.length-1;h++){var r=this.distance(s[h-1],s[h]),o=this.distance(s[h],s[h+1]),p=this.distance(s[h-1],s[h+1]),c=(r+o+p)/2,u=Math.sqrt(c*(c-r)*(c-o)*(c-p));i.push(u),(a<0||u<a)&&(a=u,n=h)}if(!(n>0))break;s.splice(n,1)}return s},t}(),h=function(){function t(t,e){this.xi=Number.MAX_VALUE,this.yi=Number.MAX_VALUE,this.px1=t[0],this.py1=t[1],this.px2=e[0],this.py2=e[1],this.a=this.py2-this.py1,this.b=this.px1-this.px2,this.c=this.px2*this.py1-this.px1*this.py2,this._undefined=0===this.a&&0===this.b&&0===this.c}return t.prototype.isUndefined=function(){return this._undefined},t.prototype.intersects=function(t){if(this.isUndefined()||t.isUndefined())return!1;var e=Number.MAX_VALUE,s=Number.MAX_VALUE,i=0,a=0,n=this.a,h=this.b,r=this.c;return Math.abs(h)>1e-5&&(e=-n/h,i=-r/h),Math.abs(t.b)>1e-5&&(s=-t.a/t.b,a=-t.c/t.b),e===Number.MAX_VALUE?s===Number.MAX_VALUE?-r/n==-t.c/t.a&&(this.py1>=Math.min(t.py1,t.py2)&&this.py1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.py2>=Math.min(t.py1,t.py2)&&this.py2<=Math.max(t.py1,t.py2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=this.px1,this.yi=s*this.xi+a,!((this.py1-this.yi)*(this.yi-this.py2)<-1e-5||(t.py1-this.yi)*(this.yi-t.py2)<-1e-5)&&(!(Math.abs(t.a)<1e-5)||!((t.px1-this.xi)*(this.xi-t.px2)<-1e-5))):s===Number.MAX_VALUE?(this.xi=t.px1,this.yi=e*this.xi+i,!((t.py1-this.yi)*(this.yi-t.py2)<-1e-5||(this.py1-this.yi)*(this.yi-this.py2)<-1e-5)&&(!(Math.abs(n)<1e-5)||!((this.px1-this.xi)*(this.xi-this.px2)<-1e-5))):e===s?i===a&&(this.px1>=Math.min(t.px1,t.px2)&&this.px1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.px2>=Math.min(t.px1,t.px2)&&this.px2<=Math.max(t.px1,t.px2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=(a-i)/(e-s),this.yi=e*this.xi+i,!((this.px1-this.xi)*(this.xi-this.px2)<-1e-5||(t.px1-this.xi)*(this.xi-t.px2)<-1e-5))},t}(),r=function(){function t(t,e,s,i,a,n,r,o){this.deltaX=0,this.hGap=0,this.top=t,this.bottom=e,this.left=s,this.right=i,this.gap=a,this.sinAngle=n,this.tanAngle=o,Math.abs(n)<1e-4?this.pos=s+a:Math.abs(n)>.9999?this.pos=t+a:(this.deltaX=(e-t)*Math.abs(o),this.pos=s-Math.abs(this.deltaX),this.hGap=Math.abs(a/r),this.sLeft=new h([s,e],[s,t]),this.sRight=new h([i,e],[i,t]))}return t.prototype.nextLine=function(){if(Math.abs(this.sinAngle)<1e-4){if(this.pos<this.right){var t=[this.pos,this.top,this.pos,this.bottom];return this.pos+=this.gap,t}}else if(Math.abs(this.sinAngle)>.9999){if(this.pos<this.bottom){t=[this.left,this.pos,this.right,this.pos];return this.pos+=this.gap,t}}else{var e=this.pos-this.deltaX/2,s=this.pos+this.deltaX/2,i=this.bottom,a=this.top;if(this.pos<this.right+this.deltaX){for(;e<this.left&&s<this.left||e>this.right&&s>this.right;)if(this.pos+=this.hGap,e=this.pos-this.deltaX/2,s=this.pos+this.deltaX/2,this.pos>this.right+this.deltaX)return null;var n=new h([e,i],[s,a]);this.sLeft&&n.intersects(this.sLeft)&&(e=n.xi,i=n.yi),this.sRight&&n.intersects(this.sRight)&&(s=n.xi,a=n.yi),this.tanAngle>0&&(e=this.right-(e-this.left),s=this.right-(s-this.left));t=[e,i,s,a];return this.pos+=this.hGap,t}}return null},t}();function o(t){var e=t[0],s=t[1];return Math.sqrt(Math.pow(e[0]-s[0],2)+Math.pow(e[1]-s[1],2))}function p(t,e){for(var s=[],i=new h([t[0],t[1]],[t[2],t[3]]),a=0;a<e.length;a++){var n=new h(e[a],e[(a+1)%e.length]);i.intersects(n)&&s.push([i.xi,i.yi])}return s}function c(t,e,s,i,a,n,h){return[-s*n-i*a+s+n*t+a*e,h*(s*a-i*n)+i+-h*a*t+h*n*e]}function u(t,e){var s=[];if(t&&t.length){for(var i=t[0][0],a=t[0][0],n=t[0][1],h=t[0][1],o=1;o<t.length;o++)i=Math.min(i,t[o][0]),a=Math.max(a,t[o][0]),n=Math.min(n,t[o][1]),h=Math.max(h,t[o][1]);var c=e.hachureAngle,u=e.hachureGap;u<0&&(u=4*e.strokeWidth),u=Math.max(u,.1);for(var l=c%180*(Math.PI/180),f=Math.cos(l),y=Math.sin(l),d=Math.tan(l),g=new r(n-1,h+1,i-1,a+1,u,y,f,d),v=void 0;null!=(v=g.nextLine());){var M=p(v,t);for(o=0;o<M.length;o++)if(o<M.length-1){var _=M[o],x=M[o+1];s.push([_,x])}}}return s}function l(t,e,s,i,a,n){var h=[],r=Math.abs(i/2),o=Math.abs(a/2);r+=t.randOffset(.05*r,n),o+=t.randOffset(.05*o,n);var p=n.hachureAngle,u=n.hachureGap;u<=0&&(u=4*n.strokeWidth);var l=n.fillWeight;l<0&&(l=n.strokeWidth/2);for(var f=p%180*(Math.PI/180),y=Math.tan(f),d=o/r,g=Math.sqrt(d*y*d*y+1),v=d*y/g,M=1/g,_=u/(r*o/Math.sqrt(o*M*(o*M)+r*v*(r*v))/r),x=Math.sqrt(r*r-(e-r+_)*(e-r+_)),b=e-r+_;b<e+r;b+=_){var m=c(b,s-(x=Math.sqrt(r*r-(e-b)*(e-b))),e,s,v,M,d),P=c(b,s+x,e,s,v,M,d);h.push([m,P])}return h}var f=function(){function t(t){this.helper=t}return t.prototype.fillPolygon=function(t,e){return this._fillPolygon(t,e)},t.prototype.fillEllipse=function(t,e,s,i,a){return this._fillEllipse(t,e,s,i,a)},t.prototype._fillPolygon=function(t,e,s){void 0===s&&(s=!1);var i=u(t,e);return{type:"fillSketch",ops:this.renderLines(i,e,s)}},t.prototype._fillEllipse=function(t,e,s,i,a,n){void 0===n&&(n=!1);var h=l(this.helper,t,e,s,i,a);return{type:"fillSketch",ops:this.renderLines(h,a,n)}},t.prototype.renderLines=function(t,e,s){for(var i=[],a=null,n=0,h=t;n<h.length;n++){var r=h[n];i=i.concat(this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],e)),s&&a&&(i=i.concat(this.helper.doubleLineOps(a[0],a[1],r[0][0],r[0][1],e))),a=r[1]}return i},t}(),y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])})(t,e)};function d(t,e){function s(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.fillPolygon=function(t,e){return this._fillPolygon(t,e,!0)},e.prototype.fillEllipse=function(t,e,s,i,a){return this._fillEllipse(t,e,s,i,a,!0)},e}(f),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.fillPolygon=function(t,e){var s=this._fillPolygon(t,e),i=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),a=this._fillPolygon(t,i);return s.ops=s.ops.concat(a.ops),s},e.prototype.fillEllipse=function(t,e,s,i,a){var n=this._fillEllipse(t,e,s,i,a),h=Object.assign({},a,{hachureAngle:a.hachureAngle+90}),r=this._fillEllipse(t,e,s,i,h);return n.ops=n.ops.concat(r.ops),n},e}(f),M=function(){function t(t){this.helper=t}return t.prototype.fillPolygon=function(t,e){var s=u(t,e=Object.assign({},e,{curveStepCount:4,hachureAngle:0}));return this.dotsOnLines(s,e)},t.prototype.fillEllipse=function(t,e,s,i,a){a=Object.assign({},a,{curveStepCount:4,hachureAngle:0});var n=l(this.helper,t,e,s,i,a);return this.dotsOnLines(n,a)},t.prototype.dotsOnLines=function(t,e){var s=[],i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.max(i,.1);var a=e.fillWeight;a<0&&(a=e.strokeWidth/2);for(var n=0,h=t;n<h.length;n++)for(var r=h[n],p=o(r)/i,c=Math.ceil(p)-1,u=Math.atan((r[1][1]-r[0][1])/(r[1][0]-r[0][0])),l=0;l<c;l++){var f=i*(l+1),y=f*Math.sin(u),d=f*Math.cos(u),g=[r[0][0]-d,r[0][1]+y],v=this.helper.randOffsetWithRange(g[0]-i/4,g[0]+i/4,e),M=this.helper.randOffsetWithRange(g[1]-i/4,g[1]+i/4,e),_=this.helper.ellipse(v,M,a,a,e);s=s.concat(_.ops)}return{type:"fillSketch",ops:s}},t}(),_={};function x(t,e){var s=t.fillStyle||"hachure";if(!_[s])switch(s){case"zigzag":_[s]||(_[s]=new g(e));break;case"cross-hatch":_[s]||(_[s]=new v(e));break;case"dots":_[s]||(_[s]=new M(e));break;case"hachure":default:_[s="hachure"]||(_[s]=new f(e))}return _[s]}var b={randOffset:w,randOffsetWithRange:E,ellipse:O,doubleLineOps:R};function m(t,e,s,i,a){return{type:"path",ops:I(t,e,s,i,a)}}function P(t,e,s){var i=(t||[]).length;if(i>2){for(var a=[],n=0;n<i-1;n++)a=a.concat(I(t[n][0],t[n][1],t[n+1][0],t[n+1][1],s));return e&&(a=a.concat(I(t[i-1][0],t[i-1][1],t[0][0],t[0][1],s))),{type:"path",ops:a}}return 2===i?m(t[0][0],t[0][1],t[1][0],t[1][1],s):{type:"path",ops:[]}}function k(t,e){return P(t,!0,e)}function O(t,e,s,i,a){var n=2*Math.PI/a.curveStepCount,h=Math.abs(s/2),r=Math.abs(i/2),o=z(n,t,e,h+=T(.05*h,a),r+=T(.05*r,a),1,n*L(.1,L(.4,1,a),a),a),p=z(n,t,e,h,r,1.5,0,a);return{type:"path",ops:o.concat(p)}}function A(t,e){return x(e,b).fillPolygon(t,e)}function w(t,e){return T(t,e)}function E(t,e,s){return L(t,e,s)}function R(t,e,s,i,a){return I(t,e,s,i,a)}function L(t,e,s){return s.roughness*(Math.random()*(e-t)+t)}function T(t,e){return L(-t,t,e)}function I(t,e,s,i,a){var n=S(t,e,s,i,a,!0,!1),h=S(t,e,s,i,a,!0,!0);return n.concat(h)}function S(t,e,s,i,a,n,h){var r=Math.pow(t-s,2)+Math.pow(e-i,2),o=a.maxRandomnessOffset||0;o*o*100>r&&(o=Math.sqrt(r)/10);var p=o/2,c=.2+.2*Math.random(),u=a.bowing*a.maxRandomnessOffset*(i-e)/200,l=a.bowing*a.maxRandomnessOffset*(t-s)/200;u=T(u,a),l=T(l,a);var f=[],y=function(){return T(p,a)},d=function(){return T(o,a)};return n&&(h?f.push({op:"move",data:[t+y(),e+y()]}):f.push({op:"move",data:[t+T(o,a),e+T(o,a)]})),h?f.push({op:"bcurveTo",data:[u+t+(s-t)*c+y(),l+e+(i-e)*c+y(),u+t+2*(s-t)*c+y(),l+e+2*(i-e)*c+y(),s+y(),i+y()]}):f.push({op:"bcurveTo",data:[u+t+(s-t)*c+d(),l+e+(i-e)*c+d(),u+t+2*(s-t)*c+d(),l+e+2*(i-e)*c+d(),s+d(),i+d()]}),f}function q(t,e,s){var i=[];i.push([t[0][0]+T(e,s),t[0][1]+T(e,s)]),i.push([t[0][0]+T(e,s),t[0][1]+T(e,s)]);for(var a=1;a<t.length;a++)i.push([t[a][0]+T(e,s),t[a][1]+T(e,s)]),a===t.length-1&&i.push([t[a][0]+T(e,s),t[a][1]+T(e,s)]);return C(i,null,s)}function C(t,e,s){var i=t.length,a=[];if(i>3){var n=[],h=1-s.curveTightness;a.push({op:"move",data:[t[1][0],t[1][1]]});for(var r=1;r+2<i;r++){var o=t[r];n[0]=[o[0],o[1]],n[1]=[o[0]+(h*t[r+1][0]-h*t[r-1][0])/6,o[1]+(h*t[r+1][1]-h*t[r-1][1])/6],n[2]=[t[r+1][0]+(h*t[r][0]-h*t[r+2][0])/6,t[r+1][1]+(h*t[r][1]-h*t[r+2][1])/6],n[3]=[t[r+1][0],t[r+1][1]],a.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[3][0],n[3][1]]})}if(e&&2===e.length){var p=s.maxRandomnessOffset;a.push({op:"lineTo",data:[e[0]+T(p,s),e[1]+T(p,s)]})}}else 3===i?(a.push({op:"move",data:[t[1][0],t[1][1]]}),a.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===i&&(a=a.concat(I(t[0][0],t[0][1],t[1][0],t[1][1],s)));return a}function z(t,e,s,i,a,n,h,r){var o=T(.5,r)-Math.PI/2,p=[];p.push([T(n,r)+e+.9*i*Math.cos(o-t),T(n,r)+s+.9*a*Math.sin(o-t)]);for(var c=o;c<2*Math.PI+o-.01;c+=t)p.push([T(n,r)+e+i*Math.cos(c),T(n,r)+s+a*Math.sin(c)]);return p.push([T(n,r)+e+i*Math.cos(o+2*Math.PI+.5*h),T(n,r)+s+a*Math.sin(o+2*Math.PI+.5*h)]),p.push([T(n,r)+e+.98*i*Math.cos(o+h),T(n,r)+s+.98*a*Math.sin(o+h)]),p.push([T(n,r)+e+.9*i*Math.cos(o+.5*h),T(n,r)+s+.9*a*Math.sin(o+.5*h)]),C(p,null,r)}function N(t,e,s,i,a,n,h,r,o){var p=n+T(.1,o),c=[];c.push([T(r,o)+e+.9*i*Math.cos(p-t),T(r,o)+s+.9*a*Math.sin(p-t)]);for(var u=p;u<=h;u+=t)c.push([T(r,o)+e+i*Math.cos(u),T(r,o)+s+a*Math.sin(u)]);return c.push([e+i*Math.cos(h),s+a*Math.sin(h)]),c.push([e+i*Math.cos(h),s+a*Math.sin(h)]),C(c,null,o)}function U(t,e,s,i,a,n,h,r){for(var o=[],p=[r.maxRandomnessOffset||1,(r.maxRandomnessOffset||1)+.5],c=[0,0],u=0;u<2;u++)0===u?o.push({op:"move",data:[h.x,h.y]}):o.push({op:"move",data:[h.x+T(p[0],r),h.y+T(p[0],r)]}),c=[a+T(p[u],r),n+T(p[u],r)],o.push({op:"bcurveTo",data:[t+T(p[u],r),e+T(p[u],r),s+T(p[u],r),i+T(p[u],r),c[0],c[1]]});return h.setPosition(c[0],c[1]),o}function X(t,e,s,i){var n=[];switch(e.key){case"M":case"m":var h="m"===e.key;if(e.data.length>=2){var r=+e.data[0],o=+e.data[1];h&&(r+=t.x,o+=t.y);var p=1*(i.maxRandomnessOffset||0);r+=T(p,i),o+=T(p,i),t.setPosition(r,o),n.push({op:"move",data:[r,o]})}break;case"L":case"l":h="l"===e.key;if(e.data.length>=2){r=+e.data[0],o=+e.data[1];h&&(r+=t.x,o+=t.y),n=n.concat(I(t.x,t.y,r,o,i)),t.setPosition(r,o)}break;case"H":case"h":h="h"===e.key;if(e.data.length){r=+e.data[0];h&&(r+=t.x),n=n.concat(I(t.x,t.y,r,t.y,i)),t.setPosition(r,t.y)}break;case"V":case"v":h="v"===e.key;if(e.data.length){o=+e.data[0];h&&(o+=t.y),n=n.concat(I(t.x,t.y,t.x,o,i)),t.setPosition(t.x,o)}break;case"Z":case"z":t.first&&(n=n.concat(I(t.x,t.y,t.first[0],t.first[1],i)),t.setPosition(t.first[0],t.first[1]),t.first=null);break;case"C":case"c":h="c"===e.key;if(e.data.length>=6){var c=+e.data[0],u=+e.data[1],l=+e.data[2],f=+e.data[3];r=+e.data[4],o=+e.data[5];h&&(c+=t.x,l+=t.x,r+=t.x,u+=t.y,f+=t.y,o+=t.y);var y=U(c,u,l,f,r,o,t,i);n=n.concat(y),t.bezierReflectionPoint=[r+(r-l),o+(o-f)]}break;case"S":case"s":h="s"===e.key;if(e.data.length>=4){l=+e.data[0],f=+e.data[1],r=+e.data[2],o=+e.data[3];h&&(l+=t.x,r+=t.x,f+=t.y,o+=t.y);c=l,u=f;var d=null;"c"!==(_=s?s.key:"")&&"C"!==_&&"s"!==_&&"S"!==_||(d=t.bezierReflectionPoint),d&&(c=d[0],u=d[1]);y=U(c,u,l,f,r,o,t,i);n=n.concat(y),t.bezierReflectionPoint=[r+(r-l),o+(o-f)]}break;case"Q":case"q":h="q"===e.key;if(e.data.length>=4){c=+e.data[0],u=+e.data[1],r=+e.data[2],o=+e.data[3];h&&(c+=t.x,r+=t.x,u+=t.y,o+=t.y);var g=1*(1+.2*i.roughness),v=1.5*(1+.22*i.roughness);n.push({op:"move",data:[t.x+T(g,i),t.y+T(g,i)]});var M=[r+T(g,i),o+T(g,i)];n.push({op:"qcurveTo",data:[c+T(g,i),u+T(g,i),M[0],M[1]]}),n.push({op:"move",data:[t.x+T(v,i),t.y+T(v,i)]}),M=[r+T(v,i),o+T(v,i)],n.push({op:"qcurveTo",data:[c+T(v,i),u+T(v,i),M[0],M[1]]}),t.setPosition(M[0],M[1]),t.quadReflectionPoint=[r+(r-c),o+(o-u)]}break;case"T":case"t":h="t"===e.key;if(e.data.length>=2){r=+e.data[0],o=+e.data[1];h&&(r+=t.x,o+=t.y);var _;c=r,u=o,d=null;"q"!==(_=s?s.key:"")&&"Q"!==_&&"t"!==_&&"T"!==_||(d=t.quadReflectionPoint),d&&(c=d[0],u=d[1]);g=1*(1+.2*i.roughness),v=1.5*(1+.22*i.roughness);n.push({op:"move",data:[t.x+T(g,i),t.y+T(g,i)]});M=[r+T(g,i),o+T(g,i)];n.push({op:"qcurveTo",data:[c+T(g,i),u+T(g,i),M[0],M[1]]}),n.push({op:"move",data:[t.x+T(v,i),t.y+T(v,i)]}),M=[r+T(v,i),o+T(v,i)],n.push({op:"qcurveTo",data:[c+T(v,i),u+T(v,i),M[0],M[1]]}),t.setPosition(M[0],M[1]),t.quadReflectionPoint=[r+(r-c),o+(o-u)]}break;case"A":case"a":h="a"===e.key;if(e.data.length>=7){var x=+e.data[0],b=+e.data[1],m=+e.data[2],P=+e.data[3],k=+e.data[4];r=+e.data[5],o=+e.data[6];if(h&&(r+=t.x,o+=t.y),r===t.x&&o===t.y)break;if(0===x||0===b)n=n.concat(I(t.x,t.y,r,o,i)),t.setPosition(r,o);else for(var O=0;O<1;O++)for(var A=new a([t.x,t.y],[r,o],[x,b],m,!!P,!!k),w=A.getNextSegment();w;){y=U(w.cp1[0],w.cp1[1],w.cp2[0],w.cp2[1],w.to[0],w.to[1],t,i);n=n.concat(y),w=A.getNextSegment()}}}return n}!function(t){const e=t,s={},i=t=>{const e=`${Date.now()}-${Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)}`;return s[e]=t,e};self.addEventListener("message",async t=>{let a=t.data||{};a.path=a.path||[];let n=a.target&&s[a.target]||e;const h=t=>t.reduce((t,e)=>t?t[e]:t,n),r=a&&a.id;if(r&&a.type){const t={id:r},e=h(a.path),s=h(a.path.slice(0,-1));switch(a.type){case"GET":t.value=e;break;case"SET":let n=a.path.length&&a.path[a.path.length-1];n&&(s[n]=a.value),t.value=!!n;break;case"APPLY":try{t.value=await e.apply(s,a.args||[])}catch(e){t.error=e.toString()}break;case"CONSTRUCT":try{t.value=new e(...a.args),t.targetId=i(t.value)}catch(e){t.error=e.toString()}}self.postMessage(t)}})}(Object.freeze({line:m,linearPath:P,polygon:k,rectangle:function(t,e,s,i,a){return k([[t,e],[t+s,e],[t+s,e+i],[t,e+i]],a)},curve:function(t,e){var s=q(t,1*(1+.2*e.roughness),e),i=q(t,1.5*(1+.22*e.roughness),e);return{type:"path",ops:s.concat(i)}},ellipse:O,arc:function(t,e,s,i,a,n,h,r,o){var p=t,c=e,u=Math.abs(s/2),l=Math.abs(i/2);u+=T(.01*u,o),l+=T(.01*l,o);for(var f=a,y=n;f<0;)f+=2*Math.PI,y+=2*Math.PI;y-f>2*Math.PI&&(f=0,y=2*Math.PI);var d=2*Math.PI/o.curveStepCount,g=Math.min(d/2,(y-f)/2),v=N(g,p,c,u,l,f,y,1,o),M=N(g,p,c,u,l,f,y,1.5,o),_=v.concat(M);return h&&(r?_=(_=_.concat(I(p,c,p+u*Math.cos(f),c+l*Math.sin(f),o))).concat(I(p,c,p+u*Math.cos(y),c+l*Math.sin(y),o)):(_.push({op:"lineTo",data:[p,c]}),_.push({op:"lineTo",data:[p+u*Math.cos(f),c+l*Math.sin(f)]}))),{type:"path",ops:_}},svgPath:function(t,e){t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var s=new i(t);if(e.simplification){var a=new n(s.linearPoints,s.closed).fit(e.simplification);s=new i(a)}for(var h=[],r=s.segments||[],o=0;o<r.length;o++){var p=X(s,r[o],o>0?r[o-1]:null,e);p&&p.length&&(h=h.concat(p))}return{type:"path",ops:h}},solidFillPolygon:function(t,e){var s=[];if(t.length){var i=e.maxRandomnessOffset||0,a=t.length;if(a>2){s.push({op:"move",data:[t[0][0]+T(i,e),t[0][1]+T(i,e)]});for(var n=1;n<a;n++)s.push({op:"lineTo",data:[t[n][0]+T(i,e),t[n][1]+T(i,e)]})}}return{type:"fillPath",ops:s}},patternFillPolygon:A,patternFillEllipse:function(t,e,s,i,a){return x(a,b).fillEllipse(t,e,s,i,a)},patternFillArc:function(t,e,s,i,a,n,h){var r=t,o=e,p=Math.abs(s/2),c=Math.abs(i/2);p+=T(.01*p,h),c+=T(.01*c,h);for(var u=a,l=n;u<0;)u+=2*Math.PI,l+=2*Math.PI;l-u>2*Math.PI&&(u=0,l=2*Math.PI);for(var f=(l-u)/h.curveStepCount,y=[],d=u;d<=l;d+=f)y.push([r+p*Math.cos(d),o+c*Math.sin(d)]);return y.push([r+p*Math.cos(l),o+c*Math.sin(l)]),y.push([r,o]),A(y,h)},randOffset:w,randOffsetWithRange:E,doubleLineOps:R}))}();
